{"version":3,"file":"sdk.js","sources":["../node_modules/detector/web/detector.js","../node_modules/detector/web/web-rules.js","../node_modules/detector/web/web-detector.js","../src/Detector.ts","../src/metrics/BaseMetric.ts","../src/metrics/ChromeMetric.ts","../src/index.ts"],"sourcesContent":["\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NA_VERSION = \"-1\";\nvar NA = {\n  name: \"na\",\n  version: NA_VERSION\n};\n\nfunction typeOf(type) {\n  return function (object) {\n    return Object.prototype.toString.call(object) === \"[object \" + type + \"]\";\n  };\n}\nvar isString = typeOf(\"String\");\nvar isRegExp = typeOf(\"RegExp\");\nvar isObject = typeOf(\"Object\");\nvar isFunction = typeOf(\"Function\");\n\nfunction each(object, factory) {\n  for (var i = 0, l = object.length; i < l; i++) {\n    if (factory.call(object, object[i], i) === false) {\n      break;\n    }\n  }\n}\n\n// UserAgent Detector.\n// @param {String} ua, userAgent.\n// @param {Object} expression\n// @return {Object}\n//    返回 null 表示当前表达式未匹配成功。\nfunction detect(name, expression, ua) {\n  var expr = isFunction(expression) ? expression.call(null, ua) : expression;\n  if (!expr) {\n    return null;\n  }\n  var info = {\n    name: name,\n    version: NA_VERSION,\n    codename: \"\"\n  };\n  if (expr === true) {\n    return info;\n  } else if (isString(expr)) {\n    if (ua.indexOf(expr) !== -1) {\n      return info;\n    }\n  } else if (isObject(expr)) {\n    if (expr.hasOwnProperty(\"version\")) {\n      info.version = expr.version;\n    }\n    return info;\n  } else if (isRegExp(expr)) {\n    var m = expr.exec(ua);\n    if (m) {\n      if (m.length >= 2 && m[1]) {\n        info.version = m[1].replace(/_/g, \".\");\n      } else {\n        info.version = NA_VERSION;\n      }\n      return info;\n    }\n  }\n}\n\n// 初始化识别。\nfunction init(ua, patterns, factory, detector) {\n  var detected = NA;\n  each(patterns, function (pattern) {\n    var d = detect(pattern[0], pattern[1], ua);\n    if (d) {\n      detected = d;\n      return false;\n    }\n  });\n  factory.call(detector, detected.name, detected.version);\n}\n\nvar Detector = function () {\n  function Detector(rules) {\n    _classCallCheck(this, Detector);\n\n    this._rules = rules;\n  }\n\n  // 解析 UserAgent 字符串\n  // @param {String} ua, userAgent string.\n  // @return {Object}\n\n\n  _createClass(Detector, [{\n    key: \"parse\",\n    value: function parse(ua) {\n      ua = (ua || \"\").toLowerCase();\n      var d = {};\n\n      init(ua, this._rules.device, function (name, version) {\n        var v = parseFloat(version);\n        d.device = {\n          name: name,\n          version: v,\n          fullVersion: version\n        };\n        d.device[name] = v;\n      }, d);\n\n      init(ua, this._rules.os, function (name, version) {\n        var v = parseFloat(version);\n        d.os = {\n          name: name,\n          version: v,\n          fullVersion: version\n        };\n        d.os[name] = v;\n      }, d);\n\n      var ieCore = this.IEMode(ua);\n\n      init(ua, this._rules.engine, function (name, version) {\n        var mode = version;\n        // IE 内核的浏览器，修复版本号及兼容模式。\n        if (ieCore) {\n          version = ieCore.engineVersion || ieCore.engineMode;\n          mode = ieCore.engineMode;\n        }\n        var v = parseFloat(version);\n        d.engine = {\n          name: name,\n          version: v,\n          fullVersion: version,\n          mode: parseFloat(mode),\n          fullMode: mode,\n          compatible: ieCore ? ieCore.compatible : false\n        };\n        d.engine[name] = v;\n      }, d);\n\n      init(ua, this._rules.browser, function (name, version) {\n        var mode = version;\n        // IE 内核的浏览器，修复浏览器版本及兼容模式。\n        if (ieCore) {\n          // 仅修改 IE 浏览器的版本，其他 IE 内核的版本不修改。\n          if (name === \"ie\") {\n            version = ieCore.browserVersion;\n          }\n          mode = ieCore.browserMode;\n        }\n        var v = parseFloat(version);\n        d.browser = {\n          name: name,\n          version: v,\n          fullVersion: version,\n          mode: parseFloat(mode),\n          fullMode: mode,\n          compatible: ieCore ? ieCore.compatible : false\n        };\n        d.browser[name] = v;\n      }, d);\n      return d;\n    }\n\n    // 解析使用 Trident 内核的浏览器的 `浏览器模式` 和 `文档模式` 信息。\n    // @param {String} ua, userAgent string.\n    // @return {Object}\n\n  }, {\n    key: \"IEMode\",\n    value: function IEMode(ua) {\n      if (!this._rules.re_msie.test(ua)) {\n        return null;\n      }\n\n      var m = void 0;\n      var engineMode = void 0;\n      var engineVersion = void 0;\n      var browserMode = void 0;\n      var browserVersion = void 0;\n\n      // IE8 及其以上提供有 Trident 信息，\n      // 默认的兼容模式，UA 中 Trident 版本不发生变化。\n      if (ua.indexOf(\"trident/\") !== -1) {\n        m = /\\btrident\\/([0-9.]+)/.exec(ua);\n        if (m && m.length >= 2) {\n          // 真实引擎版本。\n          engineVersion = m[1];\n          var v_version = m[1].split(\".\");\n          v_version[0] = parseInt(v_version[0], 10) + 4;\n          browserVersion = v_version.join(\".\");\n        }\n      }\n\n      m = this._rules.re_msie.exec(ua);\n      browserMode = m[1];\n      var v_mode = m[1].split(\".\");\n      if (typeof browserVersion === \"undefined\") {\n        browserVersion = browserMode;\n      }\n      v_mode[0] = parseInt(v_mode[0], 10) - 4;\n      engineMode = v_mode.join(\".\");\n      if (typeof engineVersion === \"undefined\") {\n        engineVersion = engineMode;\n      }\n\n      return {\n        browserVersion: browserVersion,\n        browserMode: browserMode,\n        engineVersion: engineVersion,\n        engineMode: engineMode,\n        compatible: engineVersion !== engineMode\n      };\n    }\n  }]);\n\n  return Detector;\n}();\n\nmodule.exports = Detector;","\"use strict\";\n\nvar win = typeof window === \"undefined\" ? global : window;\nvar external = win.external;\nvar re_msie = /\\b(?:msie |ie |trident\\/[0-9].*rv[ :])([0-9.]+)/;\nvar re_blackberry_10 = /\\bbb10\\b.+?\\bversion\\/([\\d.]+)/;\nvar re_blackberry_6_7 = /\\bblackberry\\b.+\\bversion\\/([\\d.]+)/;\nvar re_blackberry_4_5 = /\\bblackberry\\d+\\/([\\d.]+)/;\n\nvar NA_VERSION = \"-1\";\n\n// 硬件设备信息识别表达式。\n// 使用数组可以按优先级排序。\nvar DEVICES = [[\"nokia\", function (ua) {\n  // 不能将两个表达式合并，因为可能出现 \"nokia; nokia 960\"\n  // 这种情况下会优先识别出 nokia/-1\n  if (ua.indexOf(\"nokia \") !== -1) {\n    return (/\\bnokia ([0-9]+)?/\n    );\n  } else {\n    return (/\\bnokia([a-z0-9]+)?/\n    );\n  }\n}],\n// 三星有 Android 和 WP 设备。\n[\"samsung\", function (ua) {\n  if (ua.indexOf(\"samsung\") !== -1) {\n    return (/\\bsamsung(?:[ \\-](?:sgh|gt|sm))?-([a-z0-9]+)/\n    );\n  } else {\n    return (/\\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/\n    );\n  }\n}], [\"wp\", function (ua) {\n  return ua.indexOf(\"windows phone \") !== -1 || ua.indexOf(\"xblwp\") !== -1 || ua.indexOf(\"zunewp\") !== -1 || ua.indexOf(\"windows ce\") !== -1;\n}], [\"pc\", \"windows\"], [\"ipad\", \"ipad\"],\n// ipod 规则应置于 iphone 之前。\n[\"ipod\", \"ipod\"], [\"iphone\", /\\biphone\\b|\\biph(\\d)/], [\"mac\", \"macintosh\"],\n// 小米\n[\"mi\", /\\bmi[ \\-]?([a-z0-9 ]+(?= build|\\)))/],\n// 红米\n[\"hongmi\", /\\bhm[ \\-]?([a-z0-9]+)/], [\"aliyun\", /\\baliyunos\\b(?:[\\-](\\d+))?/], [\"meizu\", function (ua) {\n  return ua.indexOf(\"meizu\") >= 0 ? /\\bmeizu[\\/ ]([a-z0-9]+)\\b/ : /\\bm([0-9cx]{1,4})\\b/;\n}], [\"nexus\", /\\bnexus ([0-9s.]+)/], [\"huawei\", function (ua) {\n  var re_mediapad = /\\bmediapad (.+?)(?= build\\/huaweimediapad\\b)/;\n  if (ua.indexOf(\"huawei-huawei\") !== -1) {\n    return (/\\bhuawei\\-huawei\\-([a-z0-9\\-]+)/\n    );\n  } else if (re_mediapad.test(ua)) {\n    return re_mediapad;\n  } else {\n    return (/\\bhuawei[ _\\-]?([a-z0-9]+)/\n    );\n  }\n}], [\"lenovo\", function (ua) {\n  if (ua.indexOf(\"lenovo-lenovo\") !== -1) {\n    return (/\\blenovo\\-lenovo[ \\-]([a-z0-9]+)/\n    );\n  } else {\n    return (/\\blenovo[ \\-]?([a-z0-9]+)/\n    );\n  }\n}],\n// 中兴\n[\"zte\", function (ua) {\n  if (/\\bzte\\-[tu]/.test(ua)) {\n    return (/\\bzte-[tu][ _\\-]?([a-su-z0-9\\+]+)/\n    );\n  } else {\n    return (/\\bzte[ _\\-]?([a-su-z0-9\\+]+)/\n    );\n  }\n}],\n// 步步高\n[\"vivo\", /\\bvivo(?: ([a-z0-9]+))?/], [\"htc\", function (ua) {\n  if (/\\bhtc[a-z0-9 _\\-]+(?= build\\b)/.test(ua)) {\n    return (/\\bhtc[ _\\-]?([a-z0-9 ]+(?= build))/\n    );\n  } else {\n    return (/\\bhtc[ _\\-]?([a-z0-9 ]+)/\n    );\n  }\n}], [\"oppo\", /\\boppo[_]([a-z0-9]+)/], [\"konka\", /\\bkonka[_\\-]([a-z0-9]+)/], [\"sonyericsson\", /\\bmt([a-z0-9]+)/], [\"coolpad\", /\\bcoolpad[_ ]?([a-z0-9]+)/], [\"lg\", /\\blg[\\-]([a-z0-9]+)/], [\"android\", /\\bandroid\\b|\\badr\\b/], [\"blackberry\", function (ua) {\n  if (ua.indexOf(\"blackberry\") >= 0) {\n    return (/\\bblackberry\\s?(\\d+)/\n    );\n  }\n  return \"bb10\";\n}]];\n\n// 操作系统信息识别表达式\nvar OS = [[\"wp\", function (ua) {\n  if (ua.indexOf(\"windows phone \") !== -1) {\n    return (/\\bwindows phone (?:os )?([0-9.]+)/\n    );\n  } else if (ua.indexOf(\"xblwp\") !== -1) {\n    return (/\\bxblwp([0-9.]+)/\n    );\n  } else if (ua.indexOf(\"zunewp\") !== -1) {\n    return (/\\bzunewp([0-9.]+)/\n    );\n  }\n  return \"windows phone\";\n}], [\"windows\", /\\bwindows nt ([0-9.]+)/], [\"macosx\", /\\bmac os x ([0-9._]+)/], [\"ios\", function (ua) {\n  if (/\\bcpu(?: iphone)? os /.test(ua)) {\n    return (/\\bcpu(?: iphone)? os ([0-9._]+)/\n    );\n  } else if (ua.indexOf(\"iph os \") !== -1) {\n    return (/\\biph os ([0-9_]+)/\n    );\n  } else {\n    return (/\\bios\\b/\n    );\n  }\n}], [\"yunos\", /\\baliyunos ([0-9.]+)/], [\"android\", function (ua) {\n  if (ua.indexOf(\"android\") >= 0) {\n    return (/\\bandroid[ \\/-]?([0-9.x]+)?/\n    );\n  } else if (ua.indexOf(\"adr\") >= 0) {\n    if (ua.indexOf(\"mqqbrowser\") >= 0) {\n      return (/\\badr[ ]\\(linux; u; ([0-9.]+)?/\n      );\n    } else {\n      return (/\\badr(?:[ ]([0-9.]+))?/\n      );\n    }\n  }\n  return \"android\";\n  //return /\\b(?:android|\\badr)(?:[\\/\\- ](?:\\(linux; u; )?)?([0-9.x]+)?/;\n}], [\"chromeos\", /\\bcros i686 ([0-9.]+)/], [\"linux\", \"linux\"], [\"windowsce\", /\\bwindows ce(?: ([0-9.]+))?/], [\"symbian\", /\\bsymbian(?:os)?\\/([0-9.]+)/], [\"blackberry\", function (ua) {\n  var m = ua.match(re_blackberry_10) || ua.match(re_blackberry_6_7) || ua.match(re_blackberry_4_5);\n  return m ? { version: m[1] } : \"blackberry\";\n}]];\n\n// 针对同源的 TheWorld 和 360 的 external 对象进行检测。\n// @param {String} key, 关键字，用于检测浏览器的安装路径中出现的关键字。\n// @return {Undefined,Boolean,Object} 返回 undefined 或 false 表示检测未命中。\nfunction checkTW360External(key) {\n  if (!external) {\n    return;\n  } // return undefined.\n  try {\n    //        360安装路径：\n    //        C:%5CPROGRA~1%5C360%5C360se3%5C360SE.exe\n    var runpath = external.twGetRunPath.toLowerCase();\n    // 360SE 3.x ~ 5.x support.\n    // 暴露的 external.twGetVersion 和 external.twGetSecurityID 均为 undefined。\n    // 因此只能用 try/catch 而无法使用特性判断。\n    var security = external.twGetSecurityID(win);\n    var version = external.twGetVersion(security);\n\n    if (runpath && runpath.indexOf(key) === -1) {\n      return false;\n    }\n    if (version) {\n      return { version: version };\n    }\n  } catch (ex) {/* */}\n}\n\nvar ENGINE = [[\"edgehtml\", /edge\\/([0-9.]+)/], [\"trident\", re_msie], [\"blink\", function () {\n  return \"chrome\" in win && \"CSS\" in win && /\\bapplewebkit[\\/]?([0-9.+]+)/;\n}], [\"webkit\", /\\bapplewebkit[\\/]?([0-9.+]+)/], [\"gecko\", function (ua) {\n  var match = ua.match(/\\brv:([\\d\\w.]+).*\\bgecko\\/(\\d+)/);\n  if (match) {\n    return {\n      version: match[1] + \".\" + match[2]\n    };\n  }\n}], [\"presto\", /\\bpresto\\/([0-9.]+)/], [\"androidwebkit\", /\\bandroidwebkit\\/([0-9.]+)/], [\"coolpadwebkit\", /\\bcoolpadwebkit\\/([0-9.]+)/], [\"u2\", /\\bu2\\/([0-9.]+)/], [\"u3\", /\\bu3\\/([0-9.]+)/]];\nvar BROWSER = [\n// Microsoft Edge Browser, Default browser in Windows 10.\n[\"edge\", /edge\\/([0-9.]+)/],\n// Sogou.\n[\"sogou\", function (ua) {\n  if (ua.indexOf(\"sogoumobilebrowser\") >= 0) {\n    return (/sogoumobilebrowser\\/([0-9.]+)/\n    );\n  } else if (ua.indexOf(\"sogoumse\") >= 0) {\n    return true;\n  }\n  return (/ se ([0-9.x]+)/\n  );\n}],\n// TheWorld (世界之窗)\n// 由于裙带关系，TheWorld API 与 360 高度重合。\n// 只能通过 UA 和程序安装路径中的应用程序名来区分。\n// TheWorld 的 UA 比 360 更靠谱，所有将 TheWorld 的规则放置到 360 之前。\n[\"theworld\", function () {\n  var x = checkTW360External(\"theworld\");\n  if (typeof x !== \"undefined\") {\n    return x;\n  }\n  return (/theworld(?: ([\\d.])+)?/\n  );\n}],\n// 360SE, 360EE.\n[\"360\", function (ua) {\n  var x = checkTW360External(\"360se\");\n  if (typeof x !== \"undefined\") {\n    return x;\n  }\n  if (ua.indexOf(\"360 aphone browser\") !== -1) {\n    return (/\\b360 aphone browser \\(([^\\)]+)\\)/\n    );\n  }\n  return (/\\b360(?:se|ee|chrome|browser)\\b/\n  );\n}],\n// Maxthon\n[\"maxthon\", function () {\n  try {\n    if (external && (external.mxVersion || external.max_version)) {\n      return {\n        version: external.mxVersion || external.max_version\n      };\n    }\n  } catch (ex) {/* */}\n  return (/\\b(?:maxthon|mxbrowser)(?:[ \\/]([0-9.]+))?/\n  );\n}], [\"micromessenger\", /\\bmicromessenger\\/([\\d.]+)/], [\"qq\", /\\bm?qqbrowser\\/([0-9.]+)/], [\"green\", \"greenbrowser\"], [\"tt\", /\\btencenttraveler ([0-9.]+)/], [\"liebao\", function (ua) {\n  if (ua.indexOf(\"liebaofast\") >= 0) {\n    return (/\\bliebaofast\\/([0-9.]+)/\n    );\n  }\n  if (ua.indexOf(\"lbbrowser\") === -1) {\n    return false;\n  }\n  var version = void 0;\n  try {\n    if (external && external.LiebaoGetVersion) {\n      version = external.LiebaoGetVersion();\n    }\n  } catch (ex) {/* */}\n  return {\n    version: version || NA_VERSION\n  };\n}], [\"tao\", /\\btaobrowser\\/([0-9.]+)/], [\"coolnovo\", /\\bcoolnovo\\/([0-9.]+)/], [\"saayaa\", \"saayaa\"],\n// 有基于 Chromniun 的急速模式和基于 IE 的兼容模式。必须在 IE 的规则之前。\n[\"baidu\", /\\b(?:ba?idubrowser|baiduhd)[ \\/]([0-9.x]+)/],\n// 后面会做修复版本号，这里只要能识别是 IE 即可。\n[\"ie\", re_msie], [\"mi\", /\\bmiuibrowser\\/([0-9.]+)/],\n// Opera 15 之后开始使用 Chromniun 内核，需要放在 Chrome 的规则之前。\n[\"opera\", function (ua) {\n  var re_opera_old = /\\bopera.+version\\/([0-9.ab]+)/;\n  var re_opera_new = /\\bopr\\/([0-9.]+)/;\n  return re_opera_old.test(ua) ? re_opera_old : re_opera_new;\n}], [\"oupeng\", /\\boupeng\\/([0-9.]+)/], [\"yandex\", /yabrowser\\/([0-9.]+)/],\n// 支付宝手机客户端\n[\"ali-ap\", function (ua) {\n  if (ua.indexOf(\"aliapp\") > 0) {\n    return (/\\baliapp\\(ap\\/([0-9.]+)\\)/\n    );\n  } else {\n    return (/\\balipayclient\\/([0-9.]+)\\b/\n    );\n  }\n}],\n// 支付宝平板客户端\n[\"ali-ap-pd\", /\\baliapp\\(ap-pd\\/([0-9.]+)\\)/],\n// 支付宝商户客户端\n[\"ali-am\", /\\baliapp\\(am\\/([0-9.]+)\\)/],\n// 淘宝手机客户端\n[\"ali-tb\", /\\baliapp\\(tb\\/([0-9.]+)\\)/],\n// 淘宝平板客户端\n[\"ali-tb-pd\", /\\baliapp\\(tb-pd\\/([0-9.]+)\\)/],\n// 天猫手机客户端\n[\"ali-tm\", /\\baliapp\\(tm\\/([0-9.]+)\\)/],\n// 天猫平板客户端\n[\"ali-tm-pd\", /\\baliapp\\(tm-pd\\/([0-9.]+)\\)/],\n// UC 浏览器，可能会被识别为 Android 浏览器，规则需要前置。\n// UC 桌面版浏览器携带 Chrome 信息，需要放在 Chrome 之前。\n[\"uc\", function (ua) {\n  if (ua.indexOf(\"ucbrowser/\") >= 0) {\n    return (/\\bucbrowser\\/([0-9.]+)/\n    );\n  } else if (ua.indexOf(\"ubrowser/\") >= 0) {\n    return (/\\bubrowser\\/([0-9.]+)/\n    );\n  } else if (/\\buc\\/[0-9]/.test(ua)) {\n    return (/\\buc\\/([0-9.]+)/\n    );\n  } else if (ua.indexOf(\"ucweb\") >= 0) {\n    // `ucweb/2.0` is compony info.\n    // `UCWEB8.7.2.214/145/800` is browser info.\n    return (/\\bucweb([0-9.]+)?/\n    );\n  } else {\n    return (/\\b(?:ucbrowser|uc)\\b/\n    );\n  }\n}], [\"chrome\", / (?:chrome|crios|crmo)\\/([0-9.]+)/],\n// Android 默认浏览器。该规则需要在 safari 之前。\n[\"android\", function (ua) {\n  if (ua.indexOf(\"android\") === -1) {\n    return;\n  }\n  return (/\\bversion\\/([0-9.]+(?: beta)?)/\n  );\n}], [\"blackberry\", function (ua) {\n  var m = ua.match(re_blackberry_10) || ua.match(re_blackberry_6_7) || ua.match(re_blackberry_4_5);\n  return m ? { version: m[1] } : \"blackberry\";\n}], [\"safari\", /\\bversion\\/([0-9.]+(?: beta)?)(?: mobile(?:\\/[a-z0-9]+)?)? safari\\//],\n// 如果不能被识别为 Safari，则猜测是 WebView。\n[\"webview\", /\\bcpu(?: iphone)? os (?:[0-9._]+).+\\bapplewebkit\\b/], [\"firefox\", /\\bfirefox\\/([0-9.ab]+)/], [\"nokia\", /\\bnokiabrowser\\/([0-9.]+)/]];\n\nmodule.exports = {\n  device: DEVICES,\n  os: OS,\n  browser: BROWSER,\n  engine: ENGINE,\n  re_msie: re_msie\n};","\"use strict\";\n\nvar Detector = require(\"./detector\");\nvar WebRules = require(\"./web-rules\");\n\nvar userAgent = navigator.userAgent || \"\";\n//const platform = navigator.platform || \"\";\nvar appVersion = navigator.appVersion || \"\";\nvar vendor = navigator.vendor || \"\";\nvar ua = userAgent + \" \" + appVersion + \" \" + vendor;\n\nvar detector = new Detector(WebRules);\n\n// 解析使用 Trident 内核的浏览器的 `浏览器模式` 和 `文档模式` 信息。\n// @param {String} ua, userAgent string.\n// @return {Object}\nfunction IEMode(ua) {\n  if (!WebRules.re_msie.test(ua)) {\n    return null;\n  }\n\n  var m = void 0;\n  var engineMode = void 0;\n  var engineVersion = void 0;\n  var browserMode = void 0;\n  var browserVersion = void 0;\n\n  // IE8 及其以上提供有 Trident 信息，\n  // 默认的兼容模式，UA 中 Trident 版本不发生变化。\n  if (ua.indexOf(\"trident/\") !== -1) {\n    m = /\\btrident\\/([0-9.]+)/.exec(ua);\n    if (m && m.length >= 2) {\n      // 真实引擎版本。\n      engineVersion = m[1];\n      var v_version = m[1].split(\".\");\n      v_version[0] = parseInt(v_version[0], 10) + 4;\n      browserVersion = v_version.join(\".\");\n    }\n  }\n\n  m = WebRules.re_msie.exec(ua);\n  browserMode = m[1];\n  var v_mode = m[1].split(\".\");\n  if (typeof browserVersion === \"undefined\") {\n    browserVersion = browserMode;\n  }\n  v_mode[0] = parseInt(v_mode[0], 10) - 4;\n  engineMode = v_mode.join(\".\");\n  if (typeof engineVersion === \"undefined\") {\n    engineVersion = engineMode;\n  }\n\n  return {\n    browserVersion: browserVersion,\n    browserMode: browserMode,\n    engineVersion: engineVersion,\n    engineMode: engineMode,\n    compatible: engineVersion !== engineMode\n  };\n}\n\nfunction WebParse(ua) {\n  var d = detector.parse(ua);\n\n  var ieCore = IEMode(ua);\n\n  // IE 内核的浏览器，修复版本号及兼容模式。\n  if (ieCore) {\n    var engineName = d.engine.name;\n    var engineVersion = ieCore.engineVersion || ieCore.engineMode;\n    var ve = parseFloat(engineVersion);\n    var engineMode = ieCore.engineMode;\n\n    d.engine = {\n      name: engineName,\n      version: ve,\n      fullVersion: engineVersion,\n      mode: parseFloat(engineMode),\n      fullMode: engineMode,\n      compatible: ieCore ? ieCore.compatible : false\n    };\n    d.engine[d.engine.name] = ve;\n\n    var browserName = d.browser.name;\n    // IE 内核的浏览器，修复浏览器版本及兼容模式。\n    // 仅修改 IE 浏览器的版本，其他 IE 内核的版本不修改。\n    var browserVersion = d.browser.fullVersion;\n    if (browserName === \"ie\") {\n      browserVersion = ieCore.browserVersion;\n    }\n    var browserMode = ieCore.browserMode;\n    var vb = parseFloat(browserVersion);\n    d.browser = {\n      name: browserName,\n      version: vb,\n      fullVersion: browserVersion,\n      mode: parseFloat(browserMode),\n      fullMode: browserMode,\n      compatible: ieCore ? ieCore.compatible : false\n    };\n    d.browser[browserName] = vb;\n  }\n  return d;\n}\n\nvar Tan = WebParse(ua);\nTan.parse = WebParse;\nmodule.exports = Tan;","import detector from 'detector';\n\ninterface DetectorField {\n  name: string;\n  version: string;\n  fullVersion: string;\n}\n\n/**\n * 3rd party detector wrapper\n */\nclass Detector {\n  constructor(\n    public device: DetectorField,\n    public os: DetectorField,\n    public engine: DetectorField,\n    public browser: DetectorField\n  ) {}\n}\n\nconst _detector: Detector = new Detector(\n  detector.device,\n  detector.os,\n  detector.engine,\n  detector.browser\n);\n\nLOG('detector:', JSON.stringify(_detector));\n\nexport enum BrowserType {\n  MSIE,\n  MS_Edge,\n  Chrome,\n  Safari,\n  Firefox,\n  Opera\n}\n\nexport enum OSType {\n  Windows,\n  MacOS,\n  IOS,\n  Android,\n  ChromeOS,\n  Linux,\n  WindowsPhone,\n  YunOS\n}\n\nexport enum EngineType {\n  EdgeHTML,       // Microsoft Edge\n  Trident,        // Microsoft Trident\n  Blink,          // Google Blink\n  Webkit,         // Apple Webkit\n  Gecko,          // Mozilla Gecko\n  Presto,         // Opera Presto\n  AndroidWebkit,  // Android Webkit\n  UC,             // UC rendering Engine\n}\n\nexport class Browser {\n  private _type: string;\n  constructor(\n    public type: BrowserType,\n    public version: string\n  ) {\n    this._type = BrowserType[type];\n  }\n}\n\nexport class Engine {\n  private _type: string;\n  constructor(\n    public type: EngineType,\n    public version: string\n  ) {\n    this._type = EngineType[type];\n  }\n}\n\nexport class OperatingSystem {\n  private _type: string;\n  constructor(\n    public type: OSType,\n    public version: string\n  ) {\n    this._type = OSType[type];\n  }\n}\n\nexport class Device {\n  constructor(\n    public type: string,\n    public version: string\n  ) {}\n}\n\n/**\n * Represents for Environment of Brower.\n * It's an singleton instance.\n */\nexport class Environment {\n  public browser: Browser;\n  public device: Device;\n  public engine: Engine;\n  public operatingSystem: OperatingSystem;\n\n  // No way to get these two in Browser\n  public IPAddress: string;\n  public network: string;\n\n  /**\n   * Detects the environment of target browser.\n   * Like type, version, network, etc.\n   */\n  public detect(): Environment {\n    // Detect browser status\n    this.detectBrowser();\n    this.detectEngine();\n    this.detectOperatingSystem();\n    this.detectDevice();\n    return this;\n  }\n\n  /**\n   * Detect browser infomation by detector.\n   */\n  private detectBrowser() {\n    let browser: BrowserType = BrowserType.Chrome;\n    const version: string = _detector.browser.fullVersion;\n    switch (_detector.browser.name) {\n      case 'chrome':\n        browser = BrowserType.Chrome;\n        break;\n      case 'firefox':\n        browser = BrowserType.Firefox;\n        break;\n      case 'opera':\n        browser = BrowserType.Opera;\n        break;\n      case 'ie':\n        browser = BrowserType.MSIE;\n        break;\n      case 'edge':\n        browser = BrowserType.MS_Edge;\n        break;\n      default: break;\n    }\n    this.browser = new Browser(browser, version);\n  }\n\n  private detectEngine() {\n    let engine: EngineType = EngineType.Webkit;\n    const version: string = _detector.engine.fullVersion;\n    switch (_detector.engine.name) {\n      case 'edgehtml':\n        engine = EngineType.EdgeHTML;\n        break;\n      case 'trident':\n        engine = EngineType.Trident;\n        break;\n      case 'blink':\n        engine = EngineType.Blink;\n        break;\n      case 'webkit':\n        engine = EngineType.Webkit;\n        break;\n      case 'gecko':\n        engine = EngineType.Gecko;\n        break;\n      case 'presto':\n        engine = EngineType.Presto;\n        break;\n      case 'androidwebkit':\n        engine = EngineType.AndroidWebkit;\n        break;\n      case 'u2': case 'u3':\n        engine = EngineType.UC;\n        break;\n      default: break;\n    }\n    this.engine = new Engine(engine, version);\n  }\n\n  private detectOperatingSystem() {\n    let operatingSystem: OSType = OSType.MacOS;\n    const version: string = _detector.browser.fullVersion;\n    switch (_detector.os.name) {\n      case 'window':\n        operatingSystem = OSType.Windows;\n        break;\n      case 'macosx':\n        operatingSystem = OSType.MacOS;\n        break;\n      case 'ios':\n        operatingSystem = OSType.IOS;\n        break;\n      case 'android':\n        operatingSystem = OSType.Android;\n        break;\n      case 'chromeos':\n        operatingSystem = OSType.ChromeOS;\n        break;\n      case 'linux':\n        operatingSystem = OSType.Linux;\n        break;\n      case 'wp':\n        operatingSystem = OSType.WindowsPhone;\n        break;\n      case 'yunos':\n        operatingSystem = OSType.YunOS;\n        break;\n      default: break;\n    }\n    this.operatingSystem = new OperatingSystem(operatingSystem, version);\n  }\n\n  private detectDevice() {\n    this.device = new Device(_detector.device.name, _detector.device.fullVersion);\n  }\n}\n","export interface Measurable {\n  // Time to first paint\n  computeFirstPaintTime();\n  // Time to show up meaningful page\n  computeFirstMearningfulTime();\n  // Time to first interaction\n  computeFirstInteractionTime();\n  // Total loading time\n  computeTotalLoadingTime();\n  // Time to load resources\n  computeResourceTime();\n  // Time to parse DOM tree\n  computeDOMParsingTime();\n  // Time to look up DNS\n  computeDNSLookupTime();\n  // Time to first byte\n  computeFistByteTime();\n}\n\n/**\n * Base performance metric measurement.\n * Implements Navigation Timing API and\n * Resource Timing API, which are W3C standards.\n *\n * Compatibility\n * http://caniuse.com/#feat=nav-timing\n */\nexport class BaseMetric implements Measurable {\n  computeFirstPaintTime() {\n    throw new Error('Method not implemented.');\n  }\n  computeFirstMearningfulTime() {\n    throw new Error('Method not implemented.');\n  }\n  computeFirstInteractionTime() {\n    throw new Error('Method not implemented.');\n  }\n  computeTotalLoadingTime() {\n    throw new Error('Method not implemented.');\n  }\n  computeResourceTime() {\n    throw new Error('Method not implemented.');\n  }\n  computeDOMParsingTime() {\n    throw new Error('Method not implemented.');\n  }\n\n  /**\n   * Get DNS Lookup Time by using Timing API.\n   * Note: the time might be 0 due to cache.\n   */\n  computeDNSLookupTime() {\n    const performanceAPI = window.performance;\n    if (!performanceAPI) {\n      return -1;\n    }\n    const timing = performanceAPI.timing;\n    const DNSLookupTime = timing.domainLookupEnd - timing.domainLookupStart;\n    return DNSLookupTime;\n  }\n\n  computeFistByteTime() {\n    throw new Error('Method not implemented.');\n  }\n}","import { Measurable, BaseMetric } from './BaseMetric';\n\nexport default class ChromeMetric extends BaseMetric implements Measurable {\n  computeFirstPaintTime() {\n    const loadTimes = window['chrome'].loadTimes();\n    const firstPaintTime = loadTimes.firstPaintTime;\n    const startLoadTime = loadTimes.startLoadTime;\n    return (firstPaintTime - startLoadTime) * 1000;\n  }\n}","import { BrowserType, Environment } from './Detector';\nimport ChromeMetric from './metrics/ChromeMetric';\nexport * from './Detector';\n\nconst env = new Environment();\nconst detected = env.detect();\n\nfunction measure() {\n  if (detected.browser.type === BrowserType.Chrome) {\n    const metric = new ChromeMetric();\n    const firstPaintTime = metric.computeFirstPaintTime();\n    // if (firstPaintTime <= 0) {\n    //   setTimeout(() => {\n    //     measure();\n    //   }, 200);\n    //   return;\n    // }\n    LOG('Chrome first paint time:', firstPaintTime);\n    const DNSLookupTime = metric.computeDNSLookupTime();\n    LOG('DNSLookupTime:', DNSLookupTime);\n    LOG('Load Event End', window.performance.timing.loadEventEnd);\n    LOG('First Paint Time', window['chrome'].loadTimes().firstPaintTime);\n  }\n}\n\nwindow.onload = measure;"],"names":["Detector","global","NA_VERSION","WebRules","detector","BrowserType","OSType","EngineType"],"mappings":"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"}